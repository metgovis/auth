(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"+P1L":function(t,i,e){"use strict";e.r(i),e.d(i,"UsersModule",(function(){return st}));var s=e("mrSG");class a{constructor(t){this.name={last:null,first:null,middle:null},this.number={tel:null,mobile:null},this.address={billing:{company:{vat:null,reg:null},street:null,suburb:null,country:null,cityTown:null,additional:null,postalCode:null},physical:{company:{vat:null,reg:null},street:null,suburb:null,country:null,cityTown:null,additional:null,postalCode:null},same:!1},this.identification={type:null,number:null},null!=t&&(null!=t.name&&(null!=t.name.last&&(this.name.last=t.name.last),null!=t.name.first&&(this.name.first=t.name.first),null!=t.name.middle&&(this.name.middle=t.name.middle)),null!=t.number&&(null!=t.number.tel&&(this.number.tel=t.number.tel),null!=t.number.mobile&&(this.number.mobile=t.number.mobile)),null!=t.address&&(null!=t.address.billing&&(null!=t.address.billing.company&&(null!=t.address.billing.company.vat&&(this.address.billing.company.vat=t.address.billing.company.vat),null!=t.address.billing.company.reg&&(this.address.billing.company.reg=t.address.billing.company.reg)),null!=t.address.billing.street&&(this.address.billing.street=t.address.billing.street),null!=t.address.billing.suburb&&(this.address.billing.suburb=t.address.billing.suburb),null!=t.address.billing.country&&(this.address.billing.country=t.address.billing.country),null!=t.address.billing.cityTown&&(this.address.billing.cityTown=t.address.billing.cityTown),null!=t.address.billing.additional&&(this.address.billing.additional=t.address.billing.additional),null!=t.address.billing.postalCode&&(this.address.billing.postalCode=t.address.billing.postalCode)),null!=t.address.physical&&(null!=t.address.physical.company&&(null!=t.address.physical.company.vat&&(this.address.physical.company.vat=t.address.physical.company.vat),null!=t.address.physical.company.reg&&(this.address.physical.company.reg=t.address.physical.company.reg)),null!=t.address.physical.street&&(this.address.physical.street=t.address.physical.street),null!=t.address.physical.suburb&&(this.address.physical.suburb=t.address.physical.suburb),null!=t.address.physical.country&&(this.address.physical.country=t.address.physical.country),null!=t.address.physical.cityTown&&(this.address.physical.cityTown=t.address.physical.cityTown),null!=t.address.physical.additional&&(this.address.physical.additional=t.address.physical.additional),null!=t.address.physical.postalCode&&(this.address.physical.postalCode=t.address.physical.postalCode)),null!=t.address.same&&(this.address.same=t.address.same)),null!=t.identification&&(null!=t.identification.type&&(this.identification.type=t.identification.type),null!=t.identification.number&&(this.identification.number=t.identification.number)),null!=t.email&&(this.email=t.email),null!=t.userId&&(this.userId=t.userId),null!=t.picture&&(this.picture=t.picture),null!=t.language&&(this.language=t.language),null!=t.timezone&&(this.timezone=t.timezone),null!=t.username&&(this.username=t.username),null!=t.validated&&(this.validated=t.validated),null!=t.serverDate&&(this.serverDate=t.serverDate))}}var l=e("Dh3D"),n=e("3Pt+"),r=e("0IaG"),o=e("fXoL"),d=e("dWDE"),c=e("/t3+"),b=e("kmnG"),u=e("bTqV"),m=e("NFeN"),f=e("4jEk"),h=e("ofXK"),p=e("d3UM"),g=e("FKr1"),v=e("bv9b");function y(t,i){1&t&&o.Nb(0,"mat-progress-bar",9)}function S(t,i){if(1&t&&(o.Sb(0,"mat-error"),o.Bc(1),o.Rb()),2&t){const t=o.ec();o.Ab(1),o.Dc(" ",t.errors.validated," ")}}let R=(()=>{class t{constructor(t,i,e){this.dialog=t,this.config=i,this.formerror=e,this.form=new n.f({validated:new n.c([])}),this.errors={validated:""},this.subscriptions={}}load(){return Object(s.a)(this,void 0,void 0,(function*(){this.loading=!0,void 0!==this.config.validated&&null!=this.config.validated&&this.form.controls.validated.setValue(this.config.validated),this.loading=!1}))}close(){return Object(s.a)(this,void 0,void 0,(function*(){this.dialog.close(!1)}))}submit(){return Object(s.a)(this,void 0,void 0,(function*(){this.dialog.close(this.form.value)}))}ngOnInit(){this.subscriptions.form=this.form.valueChanges.subscribe(t=>{this.errors=this.formerror.validateForm(this.form,this.errors,!0)}),this.load()}ngOnDestroy(){this.subscriptions.form.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(o.Mb(r.d),o.Mb(r.a),o.Mb(d.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["users-filter-dialog"]],decls:20,vars:5,consts:[[1,"spacer"],["mat-icon-button","",3,"click"],["mode","indeterminate",4,"ngIf"],[3,"formGroup","ngSubmit"],["appearance","outline"],["name","validated","formControlName","validated","multiple",""],[3,"value"],[4,"ngIf"],["type","submit","color","primary","mat-flat-button",""],["mode","indeterminate"]],template:function(t,i){1&t&&(o.Sb(0,"mat-toolbar"),o.Sb(1,"mat-label",0),o.Bc(2," Filter Users "),o.Rb(),o.Sb(3,"button",1),o.ac("click",(function(){return i.close()})),o.Sb(4,"mat-icon"),o.Bc(5," close "),o.Rb(),o.Rb(),o.Rb(),o.Sb(6,"mat-content"),o.zc(7,y,1,0,"mat-progress-bar",2),o.Sb(8,"form",3),o.ac("ngSubmit",(function(){return!i.loading&&!i.form.invalid&&i.submit()})),o.Sb(9,"mat-form-field",4),o.Sb(10,"mat-label"),o.Bc(11," Validated "),o.Rb(),o.Sb(12,"mat-select",5),o.Sb(13,"mat-option",6),o.Bc(14," Verified "),o.Rb(),o.Sb(15,"mat-option",6),o.Bc(16," Not Verified "),o.Rb(),o.Rb(),o.zc(17,S,2,1,"mat-error",7),o.Rb(),o.Sb(18,"button",8),o.Bc(19," submit "),o.Rb(),o.Rb(),o.Rb()),2&t&&(o.Ab(7),o.kc("ngIf",i.loading),o.Ab(1),o.kc("formGroup",i.form),o.Ab(5),o.kc("value",1),o.Ab(2),o.kc("value",0),o.Ab(2),o.kc("ngIf",i.errors.validated))},directives:[c.a,b.g,u.b,m.a,f.a,h.l,n.x,n.p,n.g,b.c,p.a,n.o,n.e,g.k,v.a,b.b],styles:[".filter-dialog{width:500px!important}.filter-dialog .mat-dialog-container{padding:0!important}@media screen and (max-width:600px){.filter-dialog .mat-dialog-container{top:0;left:0;right:0;bottom:0;z-index:5000;position:fixed;border-radius:0}}"],encapsulation:2}),t})();var w=e("+0xr"),C=e("L7HW"),D=e("BhS5"),z=e("bS1C"),k=e("j7lE"),B=e("znSr"),A=e("MutI"),O=e("A5z7");function x(t,i){1&t&&o.Nb(0,"mat-progress-bar",16)}function M(t,i){if(1&t){const t=o.Tb();o.Sb(0,"mat-chip",19),o.ac("removed",(function(){o.rc(t);const e=i.$implicit;return o.ec(2).unfilter("validated",e)})),o.Sb(1,"mat-icon"),o.Bc(2," verified "),o.Rb(),o.Sb(3,"mat-label"),o.Bc(4),o.Rb(),o.Sb(5,"mat-icon",20),o.Bc(6," cancel "),o.Rb(),o.Rb()}if(2&t){const t=i.$implicit;o.Ab(4),o.Dc(" ",1==t?"Verified":"Not Verified"," ")}}function I(t,i){if(1&t&&(o.Sb(0,"mat-chip-list",17),o.zc(1,M,7,1,"mat-chip",18),o.Rb()),2&t){const t=o.ec();o.Ab(1),o.kc("ngForOf",t.filter.validated)}}function N(t,i){1&t&&(o.Sb(0,"th",21),o.Bc(1," First Name "),o.Rb())}function P(t,i){if(1&t&&(o.Sb(0,"td",22),o.Bc(1),o.Rb()),2&t){const t=i.$implicit;o.Ab(1),o.Dc(" ",t.name.first?t.name.first:"-"," ")}}function j(t,i){1&t&&(o.Sb(0,"th",21),o.Bc(1," Middle Name "),o.Rb())}function F(t,i){if(1&t&&(o.Sb(0,"td",22),o.Bc(1),o.Rb()),2&t){const t=i.$implicit;o.Ab(1),o.Dc(" ",t.name.middle?t.name.middle:"-"," ")}}function T(t,i){1&t&&(o.Sb(0,"th",21),o.Bc(1," Last Name "),o.Rb())}function $(t,i){if(1&t&&(o.Sb(0,"td",22),o.Bc(1),o.Rb()),2&t){const t=i.$implicit;o.Ab(1),o.Dc(" ",t.name.last?t.name.last:"-"," ")}}function H(t,i){1&t&&(o.Sb(0,"th",21),o.Bc(1," Tel Number "),o.Rb())}function V(t,i){if(1&t&&(o.Sb(0,"td",22),o.Bc(1),o.Rb()),2&t){const t=i.$implicit;o.Ab(1),o.Dc(" ",t.number.tel?t.number.tel:"-"," ")}}function Q(t,i){1&t&&(o.Sb(0,"th",21),o.Bc(1," Cell Number "),o.Rb())}function G(t,i){if(1&t&&(o.Sb(0,"td",22),o.Bc(1),o.Rb()),2&t){const t=i.$implicit;o.Ab(1),o.Dc(" ",t.number.mobile?t.number.mobile:"-"," ")}}function _(t,i){1&t&&(o.Sb(0,"th",21),o.Bc(1," Email "),o.Rb())}function E(t,i){if(1&t&&(o.Sb(0,"td",22),o.Bc(1),o.Rb()),2&t){const t=i.$implicit;o.Ab(1),o.Dc(" ",t.email?t.email:"-"," ")}}function L(t,i){1&t&&(o.Sb(0,"th",21),o.Bc(1," Validated "),o.Rb())}function U(t,i){if(1&t&&(o.Sb(0,"td",22),o.Sb(1,"span"),o.Bc(2),o.Rb(),o.Rb()),2&t){const t=i.$implicit;o.Ab(1),o.Cb(0==t.validated?"not-verified":"verified"),o.Ab(1),o.Dc(" ",0==t.validated?"not verified":"verified"," ")}}function J(t,i){1&t&&o.Nb(0,"tr",23)}function K(t,i){1&t&&o.Nb(0,"tr",24)}function q(t,i){if(1&t&&(o.Sb(0,"mat-list-item",25),o.Sb(1,"mat-label"),o.Sb(2,"h3"),o.Bc(3),o.Rb(),o.Sb(4,"p"),o.Bc(5),o.Rb(),o.Rb(),o.Rb()),2&t){const t=i.$implicit;o.Ab(3),o.Ec(" ",t.name.first," ",t.name.last," "),o.Ab(2),o.Dc(" ",t.email," ")}}let W=(()=>{class t{constructor(t,i,e,s,a){this.config=t,this.dialog=i,this.buttons=e,this.filters=s,this.service=a,this.filter=this.filters.get({validated:[]}),this.users=new w.k,this.columns=["namefirst","namemiddle","namelast","email","numbertel","numbercell","validated"],this.subscriptions={}}list(){return Object(s.a)(this,void 0,void 0,(function*(){this.loading=!0;const t=yield this.service.list({filter:["name","email","userId","number","validated"],validated:this.filter.validated});this.users.data=t.ok?t.result.map(t=>new a(t)):[],this.loading=!1}))}unfilter(t,i){this.filter[t]=this.filter[t].filter(t=>t!=i),this.filters.update(this.filter),this.list()}ngOnInit(){this.buttons.hide("add"),this.buttons.hide("close"),this.buttons.show("filter"),this.buttons.show("search"),this.sort.active="name-first",this.sort.direction="asc",this.users.sort=this.sort,this.subscriptions.loaded=this.config.loaded.subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){t&&(yield this.list())}))),this.subscriptions.search=this.buttons.search.value.subscribe(t=>{this.users.filter=t}),this.subscriptions.filter=this.buttons.filter.click.subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.dialog.open(R,{data:this.filter,panelClass:"filter-dialog"});yield t.afterClosed().subscribe(t=>Object(s.a)(this,void 0,void 0,(function*(){t&&(Object.keys(t).map(i=>{this.filter[i]=t[i]}),this.filters.update(this.filter),this.list())})))})))}ngOnDestroy(){this.buttons.reset("search"),this.subscriptions.loaded.unsubscribe(),this.subscriptions.search.unsubscribe(),this.subscriptions.filter.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(o.Mb(C.a),o.Mb(r.b),o.Mb(D.a),o.Mb(z.a),o.Mb(k.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["users-page"]],viewQuery:function(t,i){var e;1&t&&o.vc(l.a,!0),2&t&&o.oc(e=o.bc())&&(i.sort=e.first)},decls:28,vars:7,consts:[["mode","indeterminate",4,"ngIf"],["class","filterbar",4,"ngIf"],["mat-table","","fxShow","","fxHide.xs","true","matSort","",3,"dataSource"],["matColumnDef","namefirst"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","namemiddle"],["matColumnDef","namelast"],["matColumnDef","numbertel"],["matColumnDef","numbercell"],["matColumnDef","email"],["matColumnDef","validated"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["fxHide","","fxShow.xs","true"],["lines","full","matRipple","",4,"ngFor","ngForOf"],["mode","indeterminate"],[1,"filterbar"],[3,"removed",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove",""],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],["lines","full","matRipple",""]],template:function(t,i){1&t&&(o.zc(0,x,1,0,"mat-progress-bar",0),o.zc(1,I,2,1,"mat-chip-list",1),o.Sb(2,"table",2),o.Qb(3,3),o.zc(4,N,2,0,"th",4),o.zc(5,P,2,1,"td",5),o.Pb(),o.Qb(6,6),o.zc(7,j,2,0,"th",4),o.zc(8,F,2,1,"td",5),o.Pb(),o.Qb(9,7),o.zc(10,T,2,0,"th",4),o.zc(11,$,2,1,"td",5),o.Pb(),o.Qb(12,8),o.zc(13,H,2,0,"th",4),o.zc(14,V,2,1,"td",5),o.Pb(),o.Qb(15,9),o.zc(16,Q,2,0,"th",4),o.zc(17,G,2,1,"td",5),o.Pb(),o.Qb(18,10),o.zc(19,_,2,0,"th",4),o.zc(20,E,2,1,"td",5),o.Pb(),o.Qb(21,11),o.zc(22,L,2,0,"th",4),o.zc(23,U,3,3,"td",5),o.Pb(),o.zc(24,J,1,0,"tr",12),o.zc(25,K,1,0,"tr",13),o.Rb(),o.Sb(26,"mat-list",14),o.zc(27,q,6,3,"mat-list-item",15),o.Rb()),2&t&&(o.kc("ngIf",i.loading),o.Ab(1),o.kc("ngIf",i.filter.validated.length>0),o.Ab(1),o.kc("dataSource",i.users),o.Ab(22),o.kc("matHeaderRowDef",i.columns)("matHeaderRowDefSticky",!0),o.Ab(1),o.kc("matRowDefColumns",i.columns),o.Ab(2),o.kc("ngForOf",i.users.data))},directives:[h.l,w.j,B.a,l.a,w.c,w.e,w.b,w.g,w.i,A.a,h.k,v.a,O.c,O.a,m.a,b.g,O.d,w.d,l.b,w.a,w.f,w.h,A.b,g.p],styles:["mat-list[_ngcontent-%COMP%]   mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:row}.mat-column-validated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:5px 10px;font-size:12px;border-radius:12px;background-color:#e0e0e0}.mat-column-validated[_ngcontent-%COMP%]   span.verified[_ngcontent-%COMP%]{color:#fff;background-color:#2196f3}"]}),t})();var X=e("tVzd"),Y=e("YUcS"),Z=e("H0Zp"),tt=e("p/0r"),it=e("tyNb");const et=[{path:"",component:W}];let st=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(i){return new(i||t)},imports:[[n.i,h.c,m.b,A.c,l.c,w.l,O.e,r.c,g.q,u.c,X.a,p.b,Z.a,Y.a,tt.a,c.b,b.e,n.u,v.b,it.g.forChild(et)]]}),t})()}}]);